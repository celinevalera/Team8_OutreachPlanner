{% extends 'base.html' %}

{% block title %} {{ venue.venue_name }} {% endblock title %}

{% block content %}

{% include 'navbar.html' %}

<div class="container">
    <div class="row align-items-center py-5">
        <div class="col">
            <div class="text-start">
                <a class="btn btn-success btn-sm rounded-4"  href="{% url 'list-venue' %}">&larr; Back</a>
            </div>
        </div>
        <div class="col">
            <div class="text-center">
                <h1><strong>{{ venue.venue_name }}</strong></h1>
            </div>
        </div>
        <div class="col">
            {% if request.user.is_staff %}
            <div class="text-end">
                <div class="pb-2">
                <a class="btn btn-success btn-sm rounded-4" href="{% url 'update-venue' venue.id %}">Update Venue</a>
                <button type="button"class="btn btn-danger btn-sm rounded-4" data-bs-toggle="modal" data-bs-target="#confirmation">
                    Delete Venue</button>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<div class="container">
    <div class="card h-100 shadow rounded-4" style="background-color: #D1EEEA;">
        <div class="card-header text-center">
            <strong>Venue Details</strong>
        </div>
        <div class="card-body">
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-success alert-dismissible fade show rounded-4 text-center" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
            {% endif %}
                
            <p class="card-text">
                <div class="text-truncate">
                    <strong>Address:</strong> {{ venue.address }} <br/>
                </div>
                <div class="text-truncate">
                    <strong>URL:</strong> {{ venue.web_link }}
                </div>
                <div class="text-truncate">
                    <strong>Contact Phone:</strong> {{ venue.phone }} <br/>
                </div>
                <div class="text-truncate">
                    <strong>Contact Email:</strong> {{ venue.email }} <br/>
                </div>
            </p>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="confirmation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="confirmationLabel">Confirmation</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete <strong>{{ venue.venue_name}}</strong>?
          <br><br><em><strong>IMPORTANT:</strong> This will also delete any ongoing event on that venue.</em>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary rounded-4" data-bs-dismiss="modal">Close</button>
          <a class="btn btn-danger rounded-4" href="{% url 'delete-venue' venue.id %}">Delete</a>
        </div>
      </div>
    </div>
  </div>

{% endblock content %}
  
